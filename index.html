<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Emotion Analysis Demo</title>
</head>
<body>

<h2>An√°lisis de Entrevista (Demo)</h2>

<input type="file" id="videoInput" accept="video/*" />
<br><br>
<button onclick="sendVideo()">Analizar video</button>

<pre id="output"></pre>

<script>
    async function sendVideo() {
      const input = document.getElementById("videoInput");
      const output = document.getElementById("output");

      if (!input.files.length) {
        alert("Selecciona un video");
        return;
      }

      const formData = new FormData();
      formData.append("file", input.files[0]);

      output.textContent = "Procesando video...";

      try {
        const res = await fetch("http://127.0.0.1:8000/analyze", {
          method: "POST",
          body: formData
        });

        const data = await res.json();
        output.textContent = JSON.stringify(data, null, 2);
      } catch (err) {
        output.textContent = "Error: " + err;
      }
    }
</script>

</body>
</html>
